<!DOCTYPE html>
<html lang="en">

<head>

  <style>
    html,
    body {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
      font-family: Helvetica, Calibri, Roboto, Open Sans, sans-serif -webkit-backface-visibility: hidden;
    }

    #chart2 * {
      box-sizing: inherit;
    }

    #chart2 h1 {
      text-align: center;
      font-family: "Noto Sans KR";
    }

    #chart2 h2 {
      font-weight: 'bold';
    }

    #chart2 svg {
      margin: auto;
      display: block;
    }

    #chart2 .circle-overlay {
      font-size: 15px;
      border-radius: 10%;
      position: absolute;
      overflow: hidden;
      /*it's buggy with the foreignObject background right now*/
      /*background-color: rgba(255,255,255,0.5);*/
    }

    #chart2 .circle-overlay__inner {
      text-align: center;
      width: 100%;
      height: 100%;
    }

    #chart2 .hidden {
      display: none;
    }

    #chart2 .node-icon--faded {
      opacity: 0.2;
    }

    #chart2 .legend-size circle {
      fill: rgb(31, 119, 180);
    }

    #test {

    }


  </style>


  <!-- Favicons -->
  <link href="img/favicon.png" rel="icon">
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700|Open+Sans:300,300i,400,400i,700,700i" rel="stylesheet">

  <!-- noto sans import -->
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR" rel="stylesheet">

  <!-- Bootstrap CSS File -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/animate/animate.min.css" rel="stylesheet">
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="lib/magnific-popup/magnific-popup.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">

  <!-- linechart javascript Files -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.4.4/d3.min.js" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js" type="text/javascript"></script>
  <script src="britecharts.min.js" type="text/javascript"></script> -->
  <!-- linechart css Files -->
  <!-- <link rel="stylesheet" href="britecharts.min.css" type="text/css" /> -->
<!--   <link rel="stylesheet" href="britecharts.min.css" type="text/css" />
 -->
  <!-- =======================================================
    Theme Name: Avilon
    Theme URL: https://bootstrapmade.com/avilon-bootstrap-landing-page-template/
    Author: BootstrapMade.com
    License: https://bootstrapmade.com/license/
  ======================================================= -->
</head>

<body>




  <!--==========================
    Header
  ============================-->
  <header id="header">
    <div class="container">

      <div id="logo" class="pull-left">
        <h1><a href="index.html" class="scrollto">Lyricsis</a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="#intro"><img src="img/logo.png" alt="" title=""></a> -->
      </div>

     <nav id="nav-menu-container">
        <ul class="nav-menu">
          <li class="menu-has-children"><a href="#">Analysis</a>
            <ul>
              <li><a href="analysis-lyrics.html">Lyrics</a></li>
              <li><a href="analysis-industry.html">Industry</a></li>
            </ul>
          </li>
          <li class="menu-has-children"><a href="#">More</a>
            <ul>
              <li><a href="search_lyricist.html">Lyricist/Composer Top 100</a></li>
              <li><a href="network_lyricist_gen1.html">Lyricist Network</a></li>
              <li><a href="network_composer_gen1.html">Composer Network</a></li>
            </ul>
          <li class="menu-active"><a href="#team2">Team Lyricsis</a></li>
          </li>
          <!-- <li><a href="#contact">Contact Us</a></li> -->
        </ul>
      </nav><!-- #nav-menu-container -->
    </div>
  </header><!-- #header -->
  <section id="intro" style="height:90px;">
  </section>
    <!--==========================
      Network Vizualization
    ============================-->
    <section id="Nework" style="padding: 50px;">
        <meta charset="euc-kr">
        <link rel="stylesheet" href="stylesheets/search_style.css">
        <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,500,700&amp;subset=korean">
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script src="js/search.js"></script>

       <div style="border: 3px solid transparent;
          border-image: linear-gradient(to right, #20C2AA 0%, #7A37F5 100%);
          border-image-slice: 1; background: #fff;  color: #000;
          font-size: 15px; padding: 5px 20px; text-decoration: none;
          font-weight: bold; text-transform: uppercase; width:600px;
          margin-left:320px; margin-bottom:50px;">

          < 아이돌 세대별 작곡가 → 아티스트 네트워크 시각화 > <br><br>

          작곡가와 아티스트간의 관계도를 네트워크 시각화로 구현했습니다.<br>
          마우스 스크롤로 화면을 확대/축소해볼 수 있습니다! <br>
          원의 위치도 자유자재로 이동하면서 데이터를 살펴보세요:)<br><br>

          - 파란색 원 : 작곡가, 분홍색 원 : 아티스트<br>
          - 원의 크기, 글자 크기 : 작곡가의 곡 제작 횟수 비율<br><br>

          - 1세대 : 1992 ~ 2000년 활동 그룹 대상<br>
          - 2세대 : 2001 ~ 2009년 활동 그룹 대상<br>
          - 3세대 : 2010 ~ 2018년 활동 그룹 대상<br>
          
        </div>

        <div>
          <button type="button" class="active-button" onclick="location.href='network_composer_gen1.html'">1세대</button>
          <button type="button" onclick="location.href='network_composer_gen2.html'">2세대</button>
          <button type="button" onclick="location.href='network_composer_gen3.html'">3세대</button>
        </div>

        <div style="width:100%; height:50px"></div>

        <div id="Network_viz">
          <svg>
            <defs>
                <style type="text/css">
                  @import url('https://fonts.googleapis.com/css?family=Noto+Sans+KR:700');
                </style>
            </defs>
          </svg>
        </div>

        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script type="text/javascript" src="https://d3js.org/d3.v3.js"></script>
        <script src = "https://d3js.org/d3-zoom.v1.min.js"></script>
        <script src="https://d3js.org/d3-queue.v3.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:700&amp;subset=korean" rel="stylesheet">

        <style>
          body{font-family: 'Noto Sans KR';}
/*          #test { font-family: 'Noto Sans KR', sans-serif; text-align: center;}*/

          .link {
            stroke: #ccc;
          }

          .node text {
            font-family: 'Noto Sans KR';
            stroke-width: 0px;
            pointer-events: none;
          }
        </style>

        <body>

        <script type="text/javascript">
        //Set margins and sizes
        var margin = {
          top: 20,
          bottom: 50,
          right: 30,
          left: 50
        };

        var zoom = d3.behavior.zoom()
              .scaleExtent([0.1, 8])
              .on("zoom", zoomed);


        var width = 1000 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        //Load Color Scale
        var c10 = d3.scale.category10();
        //Create an SVG element and append it to the DOM
        var svgElement = d3.select("#Network_viz svg")
                  .attr({"width": width+margin.left+margin.right, "height": height+margin.top+margin.bottom})
                  .append("g")
                  .attr("transform","translate("+margin.left+","+margin.top+")")
                  .call(zoom)
                  .on("dblclick.zoom", null);

        var rect = svgElement.append("rect")
            .attr("width", width)
            .attr("height", height)
            .style("fill", "none")
            .style("pointer-events", "all");

        //Load External Data
        d3.json("composer_gen1.json", function(dataset){
          //Extract data from dataset
          var nodes = dataset.nodes,
              links = dataset.links;
          //Create Force Layout
          var force = d3.layout.force()
                  .size([width, height])
                  .nodes(nodes)
                  .links(links)
                  .gravity(0.1) // 중심으로 끌어당기는 힘의 정도
                  .charge(-800) // 전하를 의미하며 마이너스로 설정할 경우 척력이고, +로 설정할 경우 인력
                  .distance(250) //  노드 사이의 거리
                  .linkDistance(300)
                  // .linkDistance(function(d) {  return d.value * 10;})
                  .start();
          var drag = force.drag()
              .on("dragstart", dragstart);


          //Add links to SVG
          var link = svgElement.selectAll(".link")
                .data(links)
                .enter()
                .append("line")
                .attr("stroke-width", function(d){ return d.value*0.5; })
                .attr("class", "link");
          //Add nodes to SVG -> 글자색 설정 가능
          var node = svgElement.selectAll(".node")
                .data(nodes)
                .enter()
                .append("g")
                .attr("class", "node")
                .call(force.drag)
                .call(drag);
          //Add labels to each node
          var label = node.append("text")
                  .attr("dx", 12)
                  .attr("dy", "0.35em")
                  .attr("font-family", "Noto Sans KR")
                  .attr("font-weight", 700)
                  .attr("font-size", function(d){ return Math.max(25, d.impor * 2.5);  })
                  .text(function(d){ return d.name; });
          //Add circles to each node
          var circle = node.append("circle")
                  .attr("r", function(d){ return Math.max(7, Math.sqrt(d.impor * 30 || 0)); })
                  .attr("fill", circleColour)
                  .attr("opacity", 0.5)
                  // .attr("fill", function(d){ return c10(d.type); });
          //This function will be executed for every tick of force layoutz
          force.on("tick", function(){
            //Set X and Y of node
            node
              .attr("cx", function(d){ return d.x; })
              .attr("cy", function(d){ return d.y; });
            //Set X, Y of link
            link.attr("x1", function(d){ return d.source.x; })
            link.attr("y1", function(d){ return d.source.y; })
            link.attr("x2", function(d){ return d.target.x; })
            link.attr("y2", function(d){ return d.target.y; });
            //Shift node a little
            node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });
          });
        })

        function circleColour(d){
        if(d.type =="composer"){
          return "#20C2AA";
        } else {
          return "red";
         }
        }

        function zoomed() {
            svgElement.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
        }
        function dblclick(d) {
            d3.select(this).classed("fixed", d.fixed = false);
        }
        function dragstart(d) {
            d3.event.sourceEvent.stopPropagation();
            d3.select(this).classed("fixed", d.fixed = true);
        }
      </script>
    </body>
    </div>
  </section><!-- #contact -->

  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

  <!-- JavaScript Libraries -->
  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/jquery/jquery-migrate.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="lib/easing/easing.min.js"></script>
  <script src="lib/wow/wow.min.js"></script>
  <script src="lib/superfish/hoverIntent.js"></script>
  <script src="lib/superfish/superfish.min.js"></script>
  <script src="lib/magnific-popup/magnific-popup.min.js"></script>

  <!-- Contact Form JavaScript File -->
  <script src="contactform/contactform.js"></script>

  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script>

  <!-- gapminder code-->
  <script type="text/javascript" src="https://apis.google.com/js/platform.js"></script>

</body>

</html>
